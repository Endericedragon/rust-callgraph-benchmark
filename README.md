# Rust Call-Graph Generator Benchmark

A benchmark for call-graph generators that analyze programs written in Rust.
This benchmark is a collection of hopefully all the possible ways to call a
function or a method within and across package boundaries in Rust.

This benchmark aims to enable call-graph generator implementers to assess
the soundness of call-graphs generated by their tools. It can also serve
as documentation of all the possible ways functions and methods may be called
in Rust code.

## Benchmark Structure

The benchmark is built around the **main** package, which contains a single
binary crate. To assess how cross-package calls are analyzed by call-graph
generators we split the code across multiple library crates and packages.
The **main** crate calls the functions and methods of these packages.
Calls within package boundaries are also covered by most of the packages.

### main

- Crates:
    1 *binary*
- Depends on:
    **structs**, **generics**, **dynamic**, **function\_pointers**,
    **conditionally\_compiled**
- Description:
    Main benchmark code. Calls all other benchmark libraries' functions and
    methods.

### structs

- Crates:
    1 *library*
- Depends on:
    *nothing*
- Description:
    Definitions and implementations of structs and traits. Static and instance
    method calls. Method lookup rules.

### generics

- Crates:
    1 *library*
- Depends on:
    *nothing*
- Description:
    Generic functions with trait bounds. At compile time, this generic code
    is monomorphized.

### dynamic

- Crates:
    1 *library*
- Depends on:
    **structs**
- Description:
    Trait objects and dynamic dispatch.

### function\_pointers

- Crates:
    1 *library*
- Depends on:
    **structs**
- Description:
    Function pointer types declarations.

### conditionally\_compiled

- Crates:
    1 *library*
- Depends on:
    **structs**
- Description:
    Conditionally compiled functions.

### macros

- Crates:
    1 *library*
- Depends on:
    **structs**
- Description:
    Function and method calls inside macros.
